<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/img/crab.png">
    <title>Dataset Downloader & Answer Uploader</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="/socket.io/socket.io.js"></script>
    <script defer src="js/socket.js"></script>
    <script defer src="js/index.js"></script>
</head>

<body>
    <h1>
        <img src="/img/crab.png" alt="Crab" class="crab-icon">
        Crab Webapp
    </h1>

    <fieldset>
        <legend><strong>Download a Dataset</strong></legend>
        <label for="datasetSelect">Dataset:</label>
        <select id="datasetSelect">
            <option value="comment_generation">Comment Generation</option>
            <option value="code_refinement">Code Refinement</option>
        </select>
        <label>
            <input type="checkbox" id="withContext">
            Include context
        </label>
        <br /><br />
        <button id="downloadBtn">Download</button>
    </fieldset>

    <fieldset>
        <legend><strong>Upload Your Answers</strong></legend>
        <label for="answerType">Type:</label>
        <select id="answerType">
            <option value="comments">Comment Generation</option>
            <option value="refinement">Code Refinement</option>
        </select>
        <br /><br />
        <input type="file" id="fileInput" accept="application/json" />
        <br /><br />
        <button id="uploadBtn">Upload JSON</button>
        <span id="status" style="color: green;"> </span>
    </fieldset>


    <div id="progress-container">
        <h3>Processing answers...</h3>
        <div>
            <progress id="progress-bar" value="0" max="100"></progress>
            <span id="progress-text">0%</span>
        </div>
    </div>

    <div id="results-container">
        <h3>Results</h3>
        <table>
            <tr>
            <th>id</th>
            <th>Proposed comment</th>
            <th>Max bleu score</th>
            </tr>
        </table>
    </div>

</body>

</html>
